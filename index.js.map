{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst instance = axios.create({});\n\nexport function getImagesByQuery(query) {\n  const BASE_URL = 'https://pixabay.com/api/';\n  const API_KEY = '52280453-e49fee1d7ac9fb337b56d8047';\n\n  const params = new URLSearchParams({\n    key: API_KEY,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n  return axios\n    .get(BASE_URL, { params })\n    .then(response => {\n      if (response.data.hits.length === 0) {\n        return iziToast.error({\n          title: 'Error',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n        });\n      } else return response.data.hits;\n    })\n    .catch(error => {\n      console.error(error);\n    });\n}\n","// Описаний у документації\nimport SimpleLightbox from 'simplelightbox';\n// Додатковий імпорт стилів\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nexport const gallery = new SimpleLightbox('.gallery a', {\n  /* options */\n});\n\nconst loader = document.querySelector('.loader');\nconst ulEl = document.querySelector('.gallery');\n\nexport function createGallery(images) {\n  const markup = images\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => {\n        return `\n        <li>\n          <a href=\"${largeImageURL}\">\n            <img src=\"${webformatURL}\" alt=\"${tags}\">\n          </a>\n          <ul>\n            <li> <p>Likes</p> <span>${likes}</span> </li>\n            <li> <p>Views</p> <span>${views}</span> </li>\n            <li> <p>Comments</p> <span>${comments}</span> </li>\n            <li> <p>Downloads</p> <span>${downloads}</span> </li>\n          </ul>\n        </li>`;\n      }\n    )\n    .join('');\n  ulEl.insertAdjacentHTML('beforeend', markup);\n  gallery.refresh();\n}\n\nexport function clearGallery() {\n  ulEl.innerHTML = '';\n}\n\nexport function showLoader() {\n  loader.classList.remove('visually-hidden');\n}\n\nexport function hideLoader() {\n  loader.classList.add('visually-hidden');\n}\n","import { getImagesByQuery } from '../src/js/pixabay-api.js';\nimport {\n  createGallery,\n  clearGallery,\n  showLoader,\n  hideLoader,\n} from '../src/js/render-functions.js';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst formRefEl = document.querySelector('.form');\n\nformRefEl.addEventListener('submit', onSubmit);\n\nfunction onSubmit(event) {\n  event.preventDefault();\n  showLoader();\n  clearGallery();\n  const inputSearchWord =\n    event.currentTarget.elements['search-text'].value.trim();\n\n  if (inputSearchWord.length === 0) {\n    hideLoader();\n    formRefEl.reset();\n    console.log('Work in if');\n    return iziToast.error({\n      title: 'Error',\n      message:\n        'Sorry, there are no images matching your search query. Please try again!',\n      position: 'topRight',\n    });\n    return;\n  }\n\n  getImagesByQuery(inputSearchWord)\n    .then(images => {\n      if (!images || images.length === 0) {\n        iziToast.error({\n          title: 'Error',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n        });\n      } else {\n        createGallery(images);\n      }\n    })\n    .catch(error => console.log(error))\n    .finally(() => {\n      hideLoader();\n      formRefEl.reset();\n    });\n}\n"],"names":["axios","getImagesByQuery","query","BASE_URL","API_KEY","params","response","iziToast","error","gallery","SimpleLightbox","loader","ulEl","createGallery","images","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","clearGallery","showLoader","hideLoader","formRefEl","onSubmit","event","inputSearchWord"],"mappings":"owBAKiBA,EAAM,OAAO,CAAA,CAAE,EAEzB,SAASC,EAAiBC,EAAO,CACtC,MAAMC,EAAW,2BACXC,EAAU,qCAEVC,EAAS,IAAI,gBAAgB,CACjC,IAAKD,EACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EACD,OAAOF,EACJ,IAAIG,EAAU,CAAE,OAAAE,EAAQ,EACxB,KAAKC,GACAA,EAAS,KAAK,KAAK,SAAW,EACzBC,EAAS,MAAM,CACpB,MAAO,QACP,QACE,2EACF,SAAU,UACpB,CAAS,EACWD,EAAS,KAAK,IAC7B,EACA,MAAME,GAAS,CACd,QAAQ,MAAMA,CAAK,CACzB,CAAK,CACL,CC5BO,MAAMC,EAAU,IAAIC,EAAe,aAAc,CAExD,CAAC,EAEKC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAO,SAAS,cAAc,UAAU,EAEvC,SAASC,EAAcC,EAAQ,CACpC,MAAMC,EAASD,EACZ,IACC,CAAC,CACC,aAAAE,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IACe;AAAA;AAAA,qBAEML,CAAa;AAAA,wBACVD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,sCAGZC,CAAK;AAAA,sCACLC,CAAK;AAAA,yCACFC,CAAQ;AAAA,0CACPC,CAAS;AAAA;AAAA,cAI9C,EACA,KAAK,EAAE,EACVV,EAAK,mBAAmB,YAAaG,CAAM,EAC3CN,EAAQ,QAAO,CACjB,CAEO,SAASc,GAAe,CAC7BX,EAAK,UAAY,EACnB,CAEO,SAASY,GAAa,CAC3Bb,EAAO,UAAU,OAAO,iBAAiB,CAC3C,CAEO,SAASc,GAAa,CAC3Bd,EAAO,UAAU,IAAI,iBAAiB,CACxC,CC3CA,MAAMe,EAAY,SAAS,cAAc,OAAO,EAEhDA,EAAU,iBAAiB,SAAUC,CAAQ,EAE7C,SAASA,EAASC,EAAO,CACvBA,EAAM,eAAc,EACpBJ,IACAD,IACA,MAAMM,EACJD,EAAM,cAAc,SAAS,aAAa,EAAE,MAAM,OAEpD,GAAIC,EAAgB,SAAW,EAC7B,OAAAJ,IACAC,EAAU,MAAK,EACf,QAAQ,IAAI,YAAY,EACjBnB,EAAS,MAAM,CACpB,MAAO,QACP,QACE,2EACF,SAAU,UAChB,CAAK,EAIHN,EAAiB4B,CAAe,EAC7B,KAAKf,GAAU,CACV,CAACA,GAAUA,EAAO,SAAW,EAC/BP,EAAS,MAAM,CACb,MAAO,QACP,QACE,2EACF,SAAU,UACpB,CAAS,EAEDM,EAAcC,CAAM,CAE5B,CAAK,EACA,MAAMN,GAAS,QAAQ,IAAIA,CAAK,CAAC,EACjC,QAAQ,IAAM,CACbiB,IACAC,EAAU,MAAK,CACrB,CAAK,CACL"}